<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>DataForest</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<link type="text/css" rel="stylesheet" href="css/platform.css" />
	<link type="text/css" rel="stylesheet" href="css/app.css" />
	<link href='http://fonts.googleapis.com/css?family=Roboto:400,500,700,400italic,500italic,300,300italic,700italic' rel='stylesheet' type='text/css'>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body ng-app="app" ng-controller="ShellController">
	<md-toolbar ng-class="{'loaded': loaded, 'loading': !loaded}" flex>
		<div class="md-toolbar-tools">
			<md-button ng-click="toggleLeft()" class="md-icon-button" aria-label="Settings">
				<md-icon md-font-library="material-icons">menu</md-icon>
			</md-button>

			<h2 class="pagetitle">
				<span ng-repeat="breadcrumb in $root.breadcrumbs" hide-sm>
					<a ng-href="{{breadcrumb.url}}">{{breadcrumb.text}}</a>
					&raquo;
				</span>
				<span>{{$root.pageTitle}}</span>
			</h2>
			<md-button class="md-icon-button" aria-label="Favorite">
				<md-icon md-font-library="material-icons">star_outline</md-icon>
			</md-button>
			<span flex></span>
			
			<md-button class="md-icon-button" aria-label="More" ng-click="toggleRight()">
				<md-icon md-font-library="material-icons">more_vert</md-icon>
			</md-button>
		</div>
	</md-toolbar>

	<section ng-class="{'loaded': loaded, 'loading': !loaded}" layout="row" flex>
		<md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left">
			<div ng-controller="LeftSidebarController">
				<md-toolbar class="md-theme-indigo"> 
					<div class="md-toolbar-tools">
						<h1 ng-click="goHome()">dataforest.io</h1>
						<span flex></span>

						<md-button class="md-icon-button" aria-label="Hide" ng-click="close()">
							<md-icon md-font-library="material-icons">close</md-icon>
						</md-button> 
					</div>
				</md-toolbar>
				<md-content layout-padding class="full-height">
					
					<md-tabs md-swipe-content="true" md-selected="selectedTab" md-stretch-tabs="true">
						<md-tab label="Servers">
							
							
							<md-icon-button
								style="float:right;margin-top:1.8em;"
								ng-click="showConnectDialog($event);">
								<md-icon md-font-library="material-icons">add</md-icon>
							</md-icon-button>
							
							<md-input-container>
								<label>Search</label>
								<input type="text" ng-model="searchConnections" />
							</md-input-container>
							
							<em ng-show="$root.activeConnections.length == 0">
								There are no active server connections. To add a connection, click the Add
								button above.
							</em>
							
							<em ng-show="$root.activeConnections.length > 0 && ($root.activeConnections | filter: searchConnections).length == 0">
								No connections match your search string. 
								{{$root.activeConnections.length}} connections are hidden.
							</em>
							
							<md-list>
								<md-list-item class="md-3-line" 
											  ng-repeat="cnx in $root.activeConnections | filter: searchConnections" 
											  ng-click="selectConnection(cnx)">
									<div class="md-list-item-text">
										{{cnx.label}}
									</div>
									<md-divider ng-if="!$last"></md-divider>
								</md-list-item>
							</md-list>

							<br/>
							
						</md-tab>
						<md-tab label="DBs">
							<div ng-show="activeConnection">
							
								<md-icon-button
									style="float:right;margin-top:1.8em;">
									<md-icon md-font-library="material-icons">add</md-icon>
								</md-icon-button>
							
								<md-input-container>
									<label>Search</label>
									<input type="text" ng-model="searchDatabases" />
								</md-input-container>
							
								<em ng-show="activeConnection.databaseNames.length == 0">
									There are no available databases on the active connection 
									({{activeConnection.label}}). To add a database, click the Add
									button above.
								</em>

								<em ng-show="activeConnection.databaseNames.length > 0 && (activeConnection.databaseNames | filter: searchDatabases).length == 0">
									No databases match your search string. 
									{{activeConnection.databases.length}} databases are hidden.
								</em>	
								
								<md-list>
									<md-list-item  
										class="md-3-line"
										ng-repeat="db in activeConnection.databases | filter: searchDatabases track by db.name "
										ng-click="selectDb(db.name)">
										<div class="md-list-item-text"> 
											{{db.name}} 
										</div> 
										<md-divider ng-if="!$last"></md-divider>
									</md-list-item>
								</md-list>
								
							</div>
						</md-tab>
						<md-tab label="Tables">
							<div ng-show="$root.activeDb">
								<md-icon-button
									style="float:right;margin-top:1.8em;">
									<md-icon md-font-library="material-icons">add</md-icon>
								</md-icon-button>
								
								<md-input-container>
									<label>Search</label>
									<input type="text" ng-model="searchTables" />
								</md-input-container>

								<md-list>
									<md-list-item 
										class="md-3-line" 
										ng-repeat="table in $root.activeDb.tables | filter: searchTables"
										ng-click="goToTable(table)">
										<div class="md-list-item-text">
											{{table.name}}
										</div>
										<md-divider ng-if="!$last"></md-divider>
									</md-list-item>
								</md-list>
							</div>
						</md-tab>
					</md-tabs>
					
					<br/>
					
					
				</md-content>
			</div>
			
		</md-sidenav>
		<md-content flex layout-padding class="main">
			<div layout="column" layout-fill layout-align="top center">
				<div ng-view>
				</div>
			</div>
			<div flex></div>
		</md-content>
		<md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="right">
			<div ng-controller="RightSidebarController">
				<md-toolbar class="md-theme-light">
					<h1 class="md-toolbar-tools">Settings</h1>
				</md-toolbar>
				<md-content layout-padding>
					<form>
						<md-input-container>
							<label for="testInput">Test input</label>
							<input type="text" id="testInput"
								   ng-model="data" md-sidenav-focus>
						</md-input-container>
					</form>
					<md-button ng-click="close()" class="md-primary">
						Close Sidenav Right
					</md-button>
				</md-content>
			</div>
		</md-sidenav>
	</section>

	<script src="js/platform.min.js"></script>
	<script src="js/app.js"></script>
</body>
</html>
